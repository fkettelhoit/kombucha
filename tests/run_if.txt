if(Foo, Bar, { True }, { False })

(if
  Foo
  Bar
  {
    True}
  {
    False})

( ( ( ( =>
          =>
            =>
              =>
                ( if
                  3
                  2
                  1
                  0 )
        "Foo" )
      "Bar" )
    =>
      "True" )
  =>
    "False" )

00000: PushVar(00003)
00001: PushVar(00002)
00002: PushVar(00001)
00003: PushVar(00000)
00004: Swap(00004)
00005: If
00006: Apply
00007:   Return
00008: PushFn(00000, 00003)
00009:   Return
00010: PushFn(00008, 00002)
00011:   Return
00012: PushFn(00010, 00001)
00013:   Return
00014: PushString("True")
00015:   Return
00016: PushString("False")
00017:   Return
00018: PushFn(00012, 00000)
00019: PushString("Foo")
00020: Swap(00002)
00021: Apply
00022: PushString("Bar")
00023: Swap(00002)
00024: Apply
00025: PushFn(00014, 00000)
00026: Swap(00002)
00027: Apply
00028: PushFn(00016, 00000)
00029: Swap(00002)
00030: Apply

False

---

'f = ('x => { if(x, Bar, { True }, { False }) }), f(Bar)

(=
  'f
  (=>
    'x
    {
      (if
        x
        Bar
        {
          True}
        {
          False})}))
(f
  Bar)

( ( ( =>
        =>
          =>
            ( 0
              1 )
      "f" )
    ( ( =>
          =>
            0
        "x" )
      =>
        ( ( ( ( =>
                  =>
                    =>
                      =>
                        ( if
                          3
                          2
                          1
                          0 )
                0 )
              "Bar" )
            =>
              "True" )
          =>
            "False" ) ) )
  =>
    ( 0
      "Bar" ) )

00000: PushVar(00000)
00001: PushVar(00001)
00002: Swap(00002)
00003: Apply
00004:   Return
00005: PushFn(00000, 00001)
00006:   Return
00007: PushFn(00005, 00000)
00008:   Return
00009: PushVar(00000)
00010:   Return
00011: PushFn(00009, 00000)
00012:   Return
00013: PushVar(00003)
00014: PushVar(00002)
00015: PushVar(00001)
00016: PushVar(00000)
00017: Swap(00004)
00018: If
00019: Apply
00020:   Return
00021: PushFn(00013, 00003)
00022:   Return
00023: PushFn(00021, 00002)
00024:   Return
00025: PushFn(00023, 00001)
00026:   Return
00027: PushString("True")
00028:   Return
00029: PushString("False")
00030:   Return
00031: PushFn(00025, 00000)
00032: PushVar(00000)
00033: Swap(00002)
00034: Apply
00035: PushString("Bar")
00036: Swap(00002)
00037: Apply
00038: PushFn(00027, 00000)
00039: Swap(00002)
00040: Apply
00041: PushFn(00029, 00000)
00042: Swap(00002)
00043: Apply
00044:   Return
00045: PushVar(00000)
00046: PushString("Bar")
00047: Swap(00002)
00048: Apply
00049:   Return
00050: PushFn(00007, 00000)
00051: PushString("f")
00052: Swap(00002)
00053: Apply
00054: PushFn(00011, 00000)
00055: PushString("x")
00056: Swap(00002)
00057: Apply
00058: PushFn(00031, 00000)
00059: Swap(00002)
00060: Apply
00061: Swap(00002)
00062: Apply
00063: PushFn(00045, 00000)
00064: Swap(00002)
00065: Apply

True

---

'f = ('x => { if(x, Foo, { True }, { False }) }), Pair(f(Foo), f(Bar))

(=
  'f
  (=>
    'x
    {
      (if
        x
        Foo
        {
          True}
        {
          False})}))
(Pair
  (f
    Foo)
  (f
    Bar))

( ( ( =>
        =>
          =>
            ( 0
              1 )
      "f" )
    ( ( =>
          =>
            0
        "x" )
      =>
        ( ( ( ( =>
                  =>
                    =>
                      =>
                        ( if
                          3
                          2
                          1
                          0 )
                0 )
              "Foo" )
            =>
              "True" )
          =>
            "False" ) ) )
  =>
    ( ( "Pair"
        ( 0
          "Foo" ) )
      ( 0
        "Bar" ) ) )

00000: PushVar(00000)
00001: PushVar(00001)
00002: Swap(00002)
00003: Apply
00004:   Return
00005: PushFn(00000, 00001)
00006:   Return
00007: PushFn(00005, 00000)
00008:   Return
00009: PushVar(00000)
00010:   Return
00011: PushFn(00009, 00000)
00012:   Return
00013: PushVar(00003)
00014: PushVar(00002)
00015: PushVar(00001)
00016: PushVar(00000)
00017: Swap(00004)
00018: If
00019: Apply
00020:   Return
00021: PushFn(00013, 00003)
00022:   Return
00023: PushFn(00021, 00002)
00024:   Return
00025: PushFn(00023, 00001)
00026:   Return
00027: PushString("True")
00028:   Return
00029: PushString("False")
00030:   Return
00031: PushFn(00025, 00000)
00032: PushVar(00000)
00033: Swap(00002)
00034: Apply
00035: PushString("Foo")
00036: Swap(00002)
00037: Apply
00038: PushFn(00027, 00000)
00039: Swap(00002)
00040: Apply
00041: PushFn(00029, 00000)
00042: Swap(00002)
00043: Apply
00044:   Return
00045: PushString("Pair")
00046: PushVar(00000)
00047: PushString("Foo")
00048: Swap(00002)
00049: Apply
00050: Swap(00002)
00051: Apply
00052: PushVar(00000)
00053: PushString("Bar")
00054: Swap(00002)
00055: Apply
00056: Swap(00002)
00057: Apply
00058:   Return
00059: PushFn(00007, 00000)
00060: PushString("f")
00061: Swap(00002)
00062: Apply
00063: PushFn(00011, 00000)
00064: PushString("x")
00065: Swap(00002)
00066: Apply
00067: PushFn(00031, 00000)
00068: Swap(00002)
00069: Apply
00070: Swap(00002)
00071: Apply
00072: PushFn(00045, 00000)
00073: Swap(00002)
00074: Apply

Pair(True, False)